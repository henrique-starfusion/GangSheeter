<Window x:Class="GangSheeter.Views.MainWindow"
        x:ClassModifier="public"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:viewModels="clr-namespace:GangSheeter.ViewModels"
        xmlns:converters="clr-namespace:GangSheeter.Converters"
        Title="GangSheeter" Height="800" Width="1200"
        WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <converters:PathToFileNameConverter x:Key="PathToFileNameConverter"/>
    </Window.Resources>
    
    <Window.DataContext>
        <viewModels:MainViewModel/>
    </Window.DataContext>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        
        <!-- Image List Panel -->
        <StackPanel Grid.Column="0" Margin="10">
            <TextBlock Text="Uploaded Images" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>
            <Button Content="Add Images" 
                    Command="{Binding AddImagesCommand}"
                    Width="120" Height="30" Margin="0,0,0,10"/>
            
            <ListView ItemsSource="{Binding Images}" Height="400">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Margin="5">
                            <Image Source="{Binding FilePath}" Width="50" Height="50" Stretch="Uniform"/>
                            <StackPanel Margin="10,0,0,0">
                                <TextBlock Text="{Binding FilePath, Converter={StaticResource PathToFileNameConverter}}"/>
                                <TextBlock Text="{Binding Copies, StringFormat='Copies: {0}'}"/>
                                <TextBlock Text="{Binding WidthCm, StringFormat='Width: {0:F1} cm'}"/>
                                <TextBlock Text="{Binding HeightCm, StringFormat='Height: {0:F1} cm'}"/>
                            </StackPanel>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
            
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                <Button Content="Generate Sheet" 
                        Command="{Binding GenerateSheetCommand}"
                        Width="120" Height="30" Margin="0,0,10,0"/>
                <Button Content="Print" 
                        Command="{Binding PrintCommand}"
                        Width="120" Height="30"/>
            </StackPanel>
        </StackPanel>
        
        <!-- Sheet Preview Panel -->
        <Border Grid.Column="1" BorderBrush="Gray" BorderThickness="1" Margin="10">
            <Grid>
                <!-- Preview area will be implemented here -->
                <TextBlock Text="Sheet Preview" HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Grid>
        </Border>
    </Grid>
</Window>
