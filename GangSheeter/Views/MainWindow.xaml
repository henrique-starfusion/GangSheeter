<Window x:Class="GangSheeter.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="GangSheeter" Height="900" Width="1600"
        FontFamily="Segoe UI" FontSize="14">
    <DockPanel>
        <!-- Ribbon Control -->
        <Ribbon DockPanel.Dock="Top">

            <Ribbon.ApplicationMenu>
                <RibbonApplicationMenuItem>
                    <RibbonApplicationMenu  Header="Sair" Click="Exit_Click">
                </RibbonApplicationMenu>
            </Ribbon.ApplicationMenu>

            <RibbonTab Header="Arquivo">
                <RibbonGroup Header="Ações">
                    <RibbonButton Label="Carregar Imagem" Click="Open_Click"/>
                </RibbonGroup>

                    <RibbonGroup Header="Folha de Impressão">                    
                    <RibbonButton Label="Gerar"/>                  
                    <RibbonButton Label="Reorganizar Imagens"/>
                    <RibbonButton Label="Salvar"/>
                </RibbonGroup>
            </RibbonTab>
            <RibbonTab Header="Editar">
                <RibbonGroup Header="Edição">
                    <RibbonButton Label="Desfazer" Click="Undo_Click"/>
                    <RibbonButton Label="Refazer" Click="Redo_Click"/>
                </RibbonGroup>
            </RibbonTab>
            <RibbonTab Header="Ajuda">
                <RibbonGroup Header="Sobre">
                    <RibbonButton Label="Sobre" Click="About_Click"/>
                </RibbonGroup>
            </RibbonTab>
        </Ribbon>

        <!-- Status Bar -->
        <StatusBar DockPanel.Dock="Bottom" Background="#FFEEEEEE">
            <StatusBarItem>
                <TextBlock Text="Pronto" x:Name="StatusText"/>
            </StatusBarItem>
        </StatusBar>

        <!-- Main Content -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="300"/>
            </Grid.ColumnDefinitions>

            <!-- Image List -->
            <ListView Name="ImageListView" ItemsSource="{Binding Images}" Margin="10" Grid.Column="0">
                <ListView.Resources>
                    <Style TargetType="ListViewItem">
                        <Setter Property="Background" Value="White"/>
                        <Style.Triggers>
                            <Trigger Property="ItemsControl.AlternationIndex" Value="1">
                                <Setter Property="Background" Value="#FFF5F5F5"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </ListView.Resources>
               <ListView.View>
                    <GridView>
                        <GridViewColumn Header="Miniatura" Width="120">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <Image Source="{Binding FilePath}" Width="100" Height="100" Stretch="Uniform"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn Header="Cópias" Width="80">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBox Text="{Binding Copies, UpdateSourceTrigger=PropertyChanged}" Width="50"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn Header="Largura (cm)" Width="120" DisplayMemberBinding="{Binding Width, StringFormat={}{0:N2}}"/>
                        <GridViewColumn Header="Altura (cm)" Width="120" DisplayMemberBinding="{Binding Height, StringFormat={}{0:N2}}"/>
                        <GridViewColumn Header="Resolução (DPI)" Width="120" DisplayMemberBinding="{Binding Resolution}"/>
                        <GridViewColumn Header="Ações" Width="120">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="X" Command="{Binding RemoveCommand}" 
                                            Style="{StaticResource ModernButtonStyle}"
                                            ToolTip="Remover esta imagem da lista"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                    </GridView>
                </ListView.View>
            </ListView>

            <!-- Preview Panel -->
            <Border Grid.Column="2" BorderBrush="LightGray" BorderThickness="1" Margin="0,10,10,10">
                <StackPanel Orientation="Vertical" Margin="10">
                    <TextBlock Text="Visualização" FontWeight="Bold" Margin="0,0,0,10"/>
                    <Image Source="{Binding SelectedImage.FilePath}" Width="280" Height="280" Stretch="Uniform"/>
                    <TextBlock Text="{Binding SelectedImage.FileName}" Margin="0,10,0,0" TextWrapping="Wrap"/>
                    <TextBlock Text="{Binding SelectedImage.Dimensions}" Margin="0,5,0,0"/>
                    <TextBlock Text="{Binding SelectedImage.ResolutionInfo}" Margin="0,5,0,0"/>
                </StackPanel>
            </Border>
        </Grid>
    </DockPanel>
</Window>
